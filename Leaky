#include <stdio.h>
int main(){
int incoming,outgoing,buck_size,n,store=0;
printf("Enter bucket size: ");
scanf("%d",&buck_size);
printf("Enter outgoing rate: ");
scanf("%d",&outgoing);
printf("Enter number of inputs: ");
scanf("%d",&n);
while(n!=0){
printf("Enter incoming packet size: ");
scanf("%d",&incoming);
if(incoming<=buck_size-store){
store=store+incoming;
printf("Packet added. Current buffer: %d out of %d\n",store,buck_size);
}
else{
int dropped=incoming-(buck_size-store);
printf("Dropped %d packets.\n",dropped);
store=buck_size;
printf("Buffer is full. Current buffer: %d out of %d\n",store,buck_size);
}
store=store-outgoing;
if(store<0){
store=0;
}
printf("After outgoing, buffer: %d out of %d\n",store,buck_size);
n--;
}
return 0;
}
